[{"/Users/abhinavprasad/Desktop/ai-face-detection/src/index.js":"1","/Users/abhinavprasad/Desktop/ai-face-detection/src/App.js":"2"},{"size":218,"mtime":1660081365752,"results":"3","hashOfConfig":"4"},{"size":2683,"mtime":1660876086324,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","suppressedMessages":"8","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qim3va",{"filePath":"9","messages":"10","suppressedMessages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"/Users/abhinavprasad/Desktop/ai-face-detection/src/index.js",[],[],"/Users/abhinavprasad/Desktop/ai-face-detection/src/App.js",["13","14","15","16","17","18","19","20","21"],[],"import { useRef, useEffect, useState } from 'react';\nimport './App.css';\nimport * as faceapi from \"face-api.js\";\nimport { FaceExpressions } from 'face-api.js';\n// import express from 'express';\n\nfunction App() {\n\n  let number = 0;\n  let client_id = '42637a421e564dffacf392cd0fef3df6';\n  let client_Secret = '9fba64c6a89d45539af2fe64ac3fc37c';\n  const [accessToken, setaccessToken] = useState(\"\")\n\n  const videoRef = useRef();\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    startVideo();\n\n    videoRef && loadModels();\n\n  }, []);\n  \n    const loadModels = () => {\n      Promise.all([\n        faceapi.nets.tinyFaceDetector.loadFromUri('/models'),\n        faceapi.nets.faceLandmark68Net.loadFromUri('/models'),\n        faceapi.nets.faceRecognitionNet.loadFromUri('/models'),\n        faceapi.nets.faceExpressionNet.loadFromUri('/models'),\n      ]).then(() => {\n        faceDetection();\n      })\n    };\n\n  const startVideo = () => {\n    navigator.mediaDevices.getUserMedia({ video: true })\n      .then((currentStream) => {\n        videoRef.current.srcObject = currentStream;\n      })\n      .catch((err) => {\n        console.error(err)\n      });\n  }\n\n  const faceDetection = async () => {\n    setInterval(async() => {\n      if (number==1)\n      {\n        return\n      }\n      \n      const detections = await faceapi.detectAllFaces(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n      let emotions_displayed = detections[0].expressions;\n      if (emotions_displayed != undefined)\n      {\n        number++;\n        \n      }\n      let max_emotion = 0\n      let final_emotion = \"\"\n      for (const [key,value] of Object.entries(emotions_displayed))\n      {\n        if (value > max_emotion)\n        {\n          max_emotion = value\n          final_emotion = key\n        }\n      }\n  \n      canvasRef.current.innerHtml = faceapi.createCanvasFromMedia(videoRef.current);\n      faceapi.matchDimensions(canvasRef.current, {\n        width: 940,\n        height: 650,\n      })\n\n      const resized = faceapi.resizeResults(detections, {\n        width: 940,\n        height: 650,\n      });\n\n      faceapi.draw.drawDetections(canvasRef.current, resized)\n      faceapi.draw.drawFaceLandmarks(canvasRef.current, resized)\n      faceapi.draw.drawFaceExpressions(canvasRef.current, resized)\n\n    }, 1000)\n  }\n\n  return (\n    <div  className=\"app\">\n      <h1> AI FACE DETECTION</h1>\n      <h1>  </h1>\n      <div className='app__video'>\n        <video crossOrigin='anonymous' ref={videoRef} autoPlay ></video>\n      </div>\n        <canvas ref={canvasRef} width=\"940\" height=\"650\" className='app__canvas' />\n      \n    </div>\n  );\n}\n\nexport default App;\n",{"ruleId":"22","severity":1,"message":"23","line":4,"column":10,"nodeType":"24","messageId":"25","endLine":4,"endColumn":25},{"ruleId":"22","severity":1,"message":"26","line":10,"column":7,"nodeType":"24","messageId":"25","endLine":10,"endColumn":16},{"ruleId":"22","severity":1,"message":"27","line":11,"column":7,"nodeType":"24","messageId":"25","endLine":11,"endColumn":20},{"ruleId":"22","severity":1,"message":"28","line":12,"column":10,"nodeType":"24","messageId":"25","endLine":12,"endColumn":21},{"ruleId":"22","severity":1,"message":"29","line":12,"column":23,"nodeType":"24","messageId":"25","endLine":12,"endColumn":37},{"ruleId":"30","severity":1,"message":"31","line":22,"column":6,"nodeType":"32","endLine":22,"endColumn":8,"suggestions":"33"},{"ruleId":"34","severity":1,"message":"35","line":47,"column":17,"nodeType":"36","messageId":"37","endLine":47,"endColumn":19},{"ruleId":"34","severity":1,"message":"38","line":54,"column":30,"nodeType":"36","messageId":"37","endLine":54,"endColumn":32},{"ruleId":"22","severity":1,"message":"39","line":66,"column":11,"nodeType":"24","messageId":"25","endLine":66,"endColumn":24},"no-unused-vars","'FaceExpressions' is defined but never used.","Identifier","unusedVar","'client_id' is assigned a value but never used.","'client_Secret' is assigned a value but never used.","'accessToken' is assigned a value but never used.","'setaccessToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadModels'. Either include it or remove the dependency array.","ArrayExpression",["40"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'final_emotion' is assigned a value but never used.",{"desc":"41","fix":"42"},"Update the dependencies array to be: [loadModels]",{"range":"43","text":"44"},[532,534],"[loadModels]"]