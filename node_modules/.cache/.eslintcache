[{"/Users/abhinavprasad/Desktop/ai-face-detection/src/index.js":"1","/Users/abhinavprasad/Desktop/ai-face-detection/src/App.js":"2","/Users/abhinavprasad/Downloads/Moodify Application/src/index.js":"3","/Users/abhinavprasad/Downloads/Moodify Application/src/App.js":"4"},{"size":218,"mtime":1660081365752,"results":"5","hashOfConfig":"6"},{"size":2683,"mtime":1660876086324,"results":"7","hashOfConfig":"6"},{"size":218,"mtime":1660081365752,"results":"8","hashOfConfig":"9"},{"size":3484,"mtime":1660948596008,"results":"10","hashOfConfig":"9"},{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qim3va",{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gfs0s0",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/abhinavprasad/Desktop/ai-face-detection/src/index.js",[],[],"/Users/abhinavprasad/Desktop/ai-face-detection/src/App.js",["24","25","26","27","28","29","30","31","32"],[],"import { useRef, useEffect, useState } from 'react';\nimport './App.css';\nimport * as faceapi from \"face-api.js\";\nimport { FaceExpressions } from 'face-api.js';\n// import express from 'express';\n\nfunction App() {\n\n  let number = 0;\n  let client_id = '42637a421e564dffacf392cd0fef3df6';\n  let client_Secret = '9fba64c6a89d45539af2fe64ac3fc37c';\n  const [accessToken, setaccessToken] = useState(\"\")\n\n  const videoRef = useRef();\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    startVideo();\n\n    videoRef && loadModels();\n\n  }, []);\n  \n    const loadModels = () => {\n      Promise.all([\n        faceapi.nets.tinyFaceDetector.loadFromUri('/models'),\n        faceapi.nets.faceLandmark68Net.loadFromUri('/models'),\n        faceapi.nets.faceRecognitionNet.loadFromUri('/models'),\n        faceapi.nets.faceExpressionNet.loadFromUri('/models'),\n      ]).then(() => {\n        faceDetection();\n      })\n    };\n\n  const startVideo = () => {\n    navigator.mediaDevices.getUserMedia({ video: true })\n      .then((currentStream) => {\n        videoRef.current.srcObject = currentStream;\n      })\n      .catch((err) => {\n        console.error(err)\n      });\n  }\n\n  const faceDetection = async () => {\n    setInterval(async() => {\n      if (number==1)\n      {\n        return\n      }\n      \n      const detections = await faceapi.detectAllFaces(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n      let emotions_displayed = detections[0].expressions;\n      if (emotions_displayed != undefined)\n      {\n        number++;\n        \n      }\n      let max_emotion = 0\n      let final_emotion = \"\"\n      for (const [key,value] of Object.entries(emotions_displayed))\n      {\n        if (value > max_emotion)\n        {\n          max_emotion = value\n          final_emotion = key\n        }\n      }\n  \n      canvasRef.current.innerHtml = faceapi.createCanvasFromMedia(videoRef.current);\n      faceapi.matchDimensions(canvasRef.current, {\n        width: 940,\n        height: 650,\n      })\n\n      const resized = faceapi.resizeResults(detections, {\n        width: 940,\n        height: 650,\n      });\n\n      faceapi.draw.drawDetections(canvasRef.current, resized)\n      faceapi.draw.drawFaceLandmarks(canvasRef.current, resized)\n      faceapi.draw.drawFaceExpressions(canvasRef.current, resized)\n\n    }, 1000)\n  }\n\n  return (\n    <div  className=\"app\">\n      <h1> AI FACE DETECTION</h1>\n      <h1>  </h1>\n      <div className='app__video'>\n        <video crossOrigin='anonymous' ref={videoRef} autoPlay ></video>\n      </div>\n        <canvas ref={canvasRef} width=\"940\" height=\"650\" className='app__canvas' />\n      \n    </div>\n  );\n}\n\nexport default App;\n","/Users/abhinavprasad/Downloads/Moodify Application/src/index.js",[],[],"/Users/abhinavprasad/Downloads/Moodify Application/src/App.js",["33","34","35","36","37","38"],[],{"ruleId":"39","severity":1,"message":"40","line":4,"column":10,"nodeType":"41","messageId":"42","endLine":4,"endColumn":25},{"ruleId":"39","severity":1,"message":"43","line":10,"column":7,"nodeType":"41","messageId":"42","endLine":10,"endColumn":16},{"ruleId":"39","severity":1,"message":"44","line":11,"column":7,"nodeType":"41","messageId":"42","endLine":11,"endColumn":20},{"ruleId":"39","severity":1,"message":"45","line":12,"column":10,"nodeType":"41","messageId":"42","endLine":12,"endColumn":21},{"ruleId":"39","severity":1,"message":"46","line":12,"column":23,"nodeType":"41","messageId":"42","endLine":12,"endColumn":37},{"ruleId":"47","severity":1,"message":"48","line":22,"column":6,"nodeType":"49","endLine":22,"endColumn":8,"suggestions":"50"},{"ruleId":"51","severity":1,"message":"52","line":47,"column":17,"nodeType":"53","messageId":"54","endLine":47,"endColumn":19},{"ruleId":"51","severity":1,"message":"55","line":54,"column":30,"nodeType":"53","messageId":"54","endLine":54,"endColumn":32},{"ruleId":"39","severity":1,"message":"56","line":66,"column":11,"nodeType":"41","messageId":"42","endLine":66,"endColumn":24},{"ruleId":"39","severity":1,"message":"57","line":1,"column":29,"nodeType":"41","messageId":"42","endLine":1,"endColumn":37},{"ruleId":"39","severity":1,"message":"40","line":4,"column":10,"nodeType":"41","messageId":"42","endLine":4,"endColumn":25},{"ruleId":"47","severity":1,"message":"48","line":19,"column":6,"nodeType":"49","endLine":19,"endColumn":8,"suggestions":"58"},{"ruleId":"51","severity":1,"message":"52","line":44,"column":17,"nodeType":"53","messageId":"54","endLine":44,"endColumn":19},{"ruleId":"51","severity":1,"message":"55","line":51,"column":30,"nodeType":"53","messageId":"54","endLine":51,"endColumn":32},{"ruleId":"51","severity":1,"message":"52","line":66,"column":25,"nodeType":"53","messageId":"54","endLine":66,"endColumn":27},"no-unused-vars","'FaceExpressions' is defined but never used.","Identifier","unusedVar","'client_id' is assigned a value but never used.","'client_Secret' is assigned a value but never used.","'accessToken' is assigned a value but never used.","'setaccessToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadModels'. Either include it or remove the dependency array.","ArrayExpression",["59"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'final_emotion' is assigned a value but never used.","'useState' is defined but never used.",["60"],{"desc":"61","fix":"62"},{"desc":"61","fix":"63"},"Update the dependencies array to be: [loadModels]",{"range":"64","text":"65"},{"range":"66","text":"65"},[532,534],"[loadModels]",[365,367]]